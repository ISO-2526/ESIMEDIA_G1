spring.application.name=esimedia

server.port=8080 

spring.web.cors.allowed-origins=http://localhost:3000 


spring.data.mongodb.auto-index-creation=true

# MongoDB connection string (obtiene el valor desde el entorno; no se commitean secretos)
spring.data.mongodb.uri=mongodb+srv://diagonallityttd_db_user:RDUaiulEAD6IcIYS@esimedia.lydwhuy.mongodb.net/esimedia?retryWrites=true&w=majority&appName=ESIMEDIA

# Configuración de correo electrónico
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=diagonallityllc@gmail.com
spring.mail.password=rgbf ctpw qygk wmhv
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Configuración de subida de archivos
spring.servlet.multipart.enabled=true
# Tamaño máximo por archivo: 1MB para audio
spring.servlet.multipart.max-file-size=1MB
# Tamaño máximo por petición: 2MB
spring.servlet.multipart.max-request-size=2MB
# Ubicación temporal de archivos
spring.servlet.multipart.location=${java.io.tmpdir}

# ============================================
# CONFIGURACIÓN DE SEGURIDAD
# ============================================

# Pepper para contraseñas (CAMBIAR EN PRODUCCIÓN)
security.password.pepper=7KmN9pQr3sT6vXz2BnM5yH8jC4fG7kL0eW3xY9qR2tU5wP8aZ1bV6nM4hJ7gF0dS

# Rounds de bcrypt (12-14 recomendado)
security.bcrypt.rounds=12

# Máximo de intentos fallidos antes de bloquear
security.login.max-attempts=5

# Tiempo de bloqueo en minutos
security.login.lockout-minutes=15

# Ventana de tiempo para contar intentos (en minutos)
security.login.attempt-window-minutes=30

# ============================================
# CONFIGURACIÓN DE SEGURIDAD - PEPPER ALEATORIO
# ============================================

# Pepper criptográficamente seguro (256 bits de entropía)
# ⚠️ NUNCA compartir este valor públicamente
# ⚠️ Cambiar en cada entorno (dev, staging, prod)
# ⚠️ Si se cambia, todas las contraseñas existentes deben ser re-hasheadas

# --- TIMEOUTS POR ROL ---
security.session.user.idle-minutes=20
security.session.user.absolute-hours=8

security.session.admin.idle-minutes=15
security.session.admin.absolute-hours=7

security.session.creator.idle-minutes=15
security.session.creator.absolute-hours=7

# ============================================
# VALIDACIÓN DE CONTRASEÑAS
# ============================================
security.password.check-hibp=true
security.password.dictionary.enabled=true